# StudyReco

学習の「記録」ではなく、  
**学習行動を継続させる体験設計**を目的とした個人開発Webアプリ。

本プロジェクトでは、学習データの構造設計・可視化・即時フィードバックを通して、  
「行動と報酬の距離を最小化する設計」をテーマに改善を重ねています。

---

## 🎯 コンセプト

多くの学習記録アプリは「入力」が中心になりがちです。  
しかし入力はユーザーにとって“作業”であり、継続の阻害要因になります。

StudyRecoでは、

- 入力摩擦を減らす
- 学習行動と記録を直結させる
- 保存直後にフィードバックを返す
- データの整合性を担保した構造設計を行う

という思想で設計しています。

---

## 🛠 使用技術

### フロントエンド
- React
- TypeScript
- Vite
- CSS Modules

### バックエンド / インフラ
- Firebase Authentication
- Firestore
- Firebase Hosting

### 可視化 / 外部API
- ApexCharts
- Gemini API

### Web API
- Screen Wake Lock API

---

## 🚀 主な機能

### 1. タイマー計測型 学習記録

- 手入力を廃止し、タイマー計測方式へ移行
- `Date.now()` を用いた時刻差分計算方式を採用
- 秒単位（Integer）で一元管理
- Screen Wake Lock API により長時間学習にも対応

**目的：**  
「入力」ではなく「行動」に紐づいた記録体験を実現するため。

---

### 2. 秒単位データ管理による整合性設計

- 保存・集計・フィルタリングをすべて秒単位で統一
- 表示直前でのみ `HH:MM:SS` 形式へ変換
- データ層と表示層の責務を分離

**効果：**
- NaN問題の根本解消
- タイマー・統計・ランキング間の整合性を保証

---

### 3. 月間統計・ランキングの動的連動

- `viewDate` を親コンポーネントで一元管理（状態リフトアップ）
- 月切替に応じてランキング・グラフを再計算
- 集計ロジックの共通化

**設計意図：**
表示とデータの不整合を防ぎ、状態の単一情報源（Single Source of Truth）を維持するため。

---

### 4. カレンダーと週次リストの連動

- カレンダーで選択した日付を基準に週次データを抽出
- `currentDate` を親から子へ伝搬
- 対象日のハイライト表示

**目的：**
過去データを直感的に遡れるUIを実現するため。

---

### 5. AI学習アドバイザー機能

- 記録保存をトリガーにAI分析を自動実行
- 科目バランス分析
- 学習時間帯分析
- ポジティブフィードバック設計

**設計思想：**
保存完了を“イベント”として扱い、  
行動直後に報酬（フィードバック）を挿入することで継続を促進。

---

## 🏗 設計方針

- 行動主体設計（Action-driven Design）
- 入力摩擦の削減
- 状態のリフトアップによる整合性担保
- 秒単位データ一元管理
- データ層と表示層の責務分離
- 仮説検証型の継続的改善（詳細は Changelog 参照）

---

## 🔒 データ構造設計

学習記録は以下の要素で管理しています：

- date
- subject
- duration（秒単位）

duration を整数の秒で統一することで、

- 精度の担保
- 計算誤差の排除
- 表示形式の柔軟な変換

を可能にしています。

---

## 📈 改善プロセス

本プロジェクトは初期の「手入力型記録アプリ」から、

1. 日付入力の自動化  
2. タイマー計測方式への移行  
3. 秒単位データ管理への再設計  
4. 状態リフトアップによる整合性改善  
5. AIフィードバック導入  

という仮説検証型の改善を繰り返して進化させています。

---

## 🔮 今後の拡張予定

- 学習習慣スコアの可視化
- 連続記録ボーナス設計
- PWA対応
- 通知機能
- 行動データに基づくパーソナライズ分析の高度化

---

## 📸 スクリーンショット

<img width="300" height="auto" alt="1" src="https://github.com/user-attachments/assets/90e54ce9-8480-4f00-8be7-ac4bc364ec87" />
<img width="300" height="auto" alt="2" src="https://github.com/user-attachments/assets/cded0826-9179-4acd-bc19-bae4d212a6d2" />

---

## 🧠 このプロジェクトで意識したこと

- 「動く」だけでなく「整合性が取れている」こと
- ユーザー体験とデータ構造の両立
- 機能追加ではなく体験改善を軸にした開発

---

## 🔗 備考

詳細な改善履歴は `CHANGELOG.md` を参照してください。